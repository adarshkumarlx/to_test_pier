<?xml version="1.0" encoding="utf-8"?><!DOCTYPE topic  PUBLIC '-//OASIS//DTD DITA Topic//EN'  'topic.dtd'><topic id="GUID_9D62A7ED-AE22-42D4-B983-2C78CBC3C404"><title>SPI0 Flash 50MHz 1 to 4-Load Branch (Device Down) MAF Topology</title><body><section id="SECTION_D9426800-9BE9-4E3E-B58C-736D6A746140"><fig id="FIG_spi0_50mhz_1-load_maf_device_down_topology_diagram_1"><title>SPI0 50MHz 1-Load MAF (Device Down) Topology Diagram</title><image href="FIG_spi0 50mhz 1-load maf (device down) topology diagram_1.jpg" scalefit="yes" id="IMG_spi0_50mhz_1-load_maf_device_down_topology_diagram_1_jpg" /></fig><fig id="FIG_spi0_50mhz_2-load_branch_maf_device_down_with_2_flash_topology_diagram_1"><title>SPI0 50MHz 2-Load Branch MAF (Device Down) with 2 Flash Topology Diagram</title><image href="FIG_spi0 50mhz 2-load branch maf (device down) with 2 flash topology diagram_1.png" scalefit="yes" id="IMG_spi0_50mhz_2-load_branch_maf_device_down_with_2_flash_topology_diagram_1_png" /></fig><fig id="FIG_spi0_50mhz_2-load_branch_maf_device_down_with_flash_and_tpm_topology_diagram_1"><title>SPI0 50MHz 2-Load Branch MAF (Device Down) with Flash and TPM Topology Diagram</title><image href="FIG_spi0 50mhz 2-load branch maf (device down) with flash and tpm topology diagram_1.png" scalefit="yes" id="IMG_spi0_50mhz_2-load_branch_maf_device_down_with_flash_and_tpm_topology_diagram_1_png" /></fig><fig id="FIG_spi0_50mhz_3-load_branch_maf_device_down_topology_diagram_1"><title>SPI0 50MHz 3-Load Branch MAF (Device Down) Topology Diagram</title><image href="FIG_spi0 50mhz 3-load branch maf (device down) topology diagram_1.png" scalefit="yes" id="IMG_spi0_50mhz_3-load_branch_maf_device_down_topology_diagram_1_png" /></fig><fig id="FIG_spi0_50mhz_4-load_branch_maf_device_down_topology_diagram_1"><title>SPI0 50MHz 4-Load Branch MAF (Device Down) Topology Diagram</title><image href="FIG_spi0 50mhz 4-load branch maf (device down) topology diagram_1.png" scalefit="yes" id="IMG_spi0_50mhz_4-load_branch_maf_device_down_topology_diagram_1_png" /></fig><table id="TABLE_D9426800-9BE9-4E3E-B58C-736D6A746140_1"><title>SPI0 Flash 50MHz 1 to 4-Load Branch (Device Down) MAF Topology Notes</title><tgroup cols="2"><thead><row><entry>Note</entry><entry>Detail</entry></row></thead><tbody><row><entry><p>Reference plane</p></entry><entry><p>Continuous ground only.</p></entry></row><row><entry><p>Max frequency</p></entry><entry><p>Flash 1 &amp; Flash 2: 50 MHz.</p><p>TPM: 33 MHz.</p></entry></row><row><entry><p>Flash Programmer</p></entry><entry><p>Require additional isolation circuitry to protect processor from back-feed voltage when connect to flash programmer. </p></entry></row><row><entry><p>R1</p></entry><entry><p>24 Ω ± 5%.</p><p>To be placed within 5.08 mm from the branch on SPI0_CLK, SPI0_MISO, SPI0_MOSI, SPI0_IO2 and SPI0_IO3.</p></entry></row><row><entry><p>R2</p></entry><entry><p>51 Ω ± 5%.</p><p>To be placed within 5.08 mm from the branch on SPI0_CLK, SPI0_MISO, SPI0_MOSI, SPI0_IO2 and SPI0_IO3.</p></entry></row><row><entry><p>Length from processor to flash 1 or flash 2</p></entry><entry><p>Length from processor to flash 1 or flash 2: </p><p>= BO + M1 + M2 + M3</p></entry></row><row><entry><p>Flash device electrical characteristics recommendation for 50MHz support: Option 1</p></entry><entry><p>[1] Driver strength spec: 50 Ω or stronger across worse case corners.</p><p>[2] 0.4 ns ≤ rise/ fall time measured at 30% to 70% ≤ 1.45 ns based on 30 pF test load. </p><p>[3] Output capacitance, Cout ≤ 16 pF (including RPMC die).</p><p>[4] Input capacitance, Cin ≤ 12 pF (including RPMC die).</p><p>[5] Data input setup time ≤ 3 ns.</p><p>[6] Data input hold time ≤ 3 ns.</p><p>[7] CLK to DATA output valid time, min: 1 ns, based on 30 pF test load.</p><p>[8] CLK to DATA output valid time, max: 6.5 ns (50% to 50%), based on 30 pF test load.</p></entry></row><row><entry><p>Flash device electrical characteristics recommendation for 50MHz support: Option 2</p></entry><entry><p>[1] Driver strength spec: 40 Ω or stronger across worse case corners.</p><p>[2] 0.4 ns ≤ rise/ fall time measured at 30% to 70% ≤ 1.25 ns based on 30 pF test load. </p><p>[3] Output capacitance, Cout ≤ 14 pF (including RPMC die).</p><p>[4] Input capacitance, Cin ≤ 12 pF (including RPMC die).</p><p>[5] Data input setup time ≤ 3 ns.</p><p>[6] Data input hold time ≤ 3 ns.</p><p>[7] CLK to DATA output valid time, min: 1 ns, based on 30 pF test load.</p><p>[8] CLK to DATA output valid time, max: 9 ns (50% to 50%), based on 30 pF test load.</p></entry></row><row><entry><p>Stuffing resistor</p></entry><entry><p>If one of devices is unstuffed (rework), treat it as (n -1)-Load topology thus place stuffing resistor as close as possible to the branch to avoid long stub length.</p></entry></row><row><entry><p>Length matching between CLK and DATA/ CS# signals</p></entry><entry><p>12.7 mm </p></entry></row><row><entry><p>Trace spacing between DATA and DATA signals</p></entry><entry><p>0.250 mm</p></entry></row><row><entry><p>Trace spacing between CLK and DATA/ other signals</p></entry><entry><p>0.375 mm</p></entry></row><row><entry><p>Signal name/ list</p></entry><entry><p>SPI0_CLK, SPI0_MOSI, SPI0_MISO, SPI0_IO2, SPI0_IO3, SPI0_CS[0:1]# (for flash), SPI0_CS2# (for TPM)</p></entry></row></tbody></tgroup></table><table id="TABLE_D9426800-9BE9-4E3E-B58C-736D6A746140_2"><title>Max Number of vias</title><tgroup cols="3"><thead><row><entry>Signal Group</entry><entry>Max Number of Vias Allowed</entry><entry>Via Placement</entry></row></thead><tbody><row><entry><p>Rx, Tx</p></entry><entry><p>6</p></entry><entry><p>Total Channel</p></entry></row></tbody></tgroup></table></section><section id="SECTION_D8E0E663-0FE6-47F8-A2B5-E705ADD4EC48"><title>Segment Lengths for Maximum 50MHz</title><table id="TABLE_D8E0E663-0FE6-47F8-A2B5-E705ADD4EC48_1"><title>SPI0 Flash 50MHz 1 to 4-Load Branch (Device Down) MAF Topology Segment Lengths for Maximum 50MHz Routing Guidelines</title><tgroup cols="4"><thead><row><entry>Segment</entry><entry>Tline Type</entry><entry>Max Length Segment (mm)</entry><entry>Max Length Segment Note</entry></row></thead><tbody><row><entry><p>BO</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>12.7</p></entry><entry><p /></entry></row><row><entry><p>M1</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>124.46</p></entry><entry><p /></entry></row><row><entry><p>M2</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>5.08</p></entry><entry><p /></entry></row><row><entry><p>M3</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>35.56</p></entry><entry><p /></entry></row><row><entry><p>M4</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>50.8</p></entry><entry><p>This length only applicable for TPM branch</p></entry></row><row><entry><p>M5</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>38.1</p></entry><entry><p>This length only applicable for Debug Tool branch</p></entry></row></tbody></tgroup></table><p>Min Length Total (mm): 30.48</p><p>Min Length Total Note: Min length between processor to the closest end device = 30.48 mm.</p><p>Max Length Total (mm): 177.8</p><p>Max Length Total Note: 1) Max length between processor to Flash = 177.8 mm;​  2) Total topology length for: 2-load topology with flash and TPM =233.68 mm; 2-load topology with 2 flash = 218.44 mm; 3-load topology = 274.32 mm; 4-load topology = 317.5 mm</p></section></body></topic>