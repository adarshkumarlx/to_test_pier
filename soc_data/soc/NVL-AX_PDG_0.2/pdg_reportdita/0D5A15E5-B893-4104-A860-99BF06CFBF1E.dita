<?xml version="1.0" encoding="utf-8"?><!DOCTYPE topic  PUBLIC '-//OASIS//DTD DITA Topic//EN'  'topic.dtd'><topic id="GUID_297E90BF-F1C2-4DAE-9A73-D12A56F67B7F"><title>SPI0 Flash 76.8MHz and 100MHz 2 to 4-Load Branch (Device Down) with G3 Flash Sharing Topology</title><body><section id="SECTION_0D5A15E5-B893-4104-A860-99BF06CFBF1E"><fig id="FIG_spi0_flash_100mhz_and_76_8mhz_2_load_branch_device_down_with_g3_flash_sharing_topology_diagram_1"><title>SPI0 Flash 100MHz and 76.8MHz 2 Load Branch (Device Down) with G3 Flash Sharing Topology Diagram</title><image href="FIG_spi0 flash 100mhz and 76.8mhz 2 load branch (device down) with g3 flash sharing topology diagram_1.jpg" scalefit="yes" id="IMG_spi0_flash_100mhz_and_76_8mhz_2_load_branch_device_down_with_g3_flash_sharing_topology_diagram_1_jpg" /></fig><fig id="FIG_spi0_flash_100mhz_and_76_8mhz_3_load_branch_device_down_with_g3_flash_sharing_of_flash_and_tpm_topology_diagram_1"><title>SPI0 Flash 100MHz and 76.8MHz 3 Load Branch (Device Down) with G3 Flash Sharing of Flash and TPM Topology Diagram</title><image href="FIG_spi0 flash 100mhz and 76.8mhz 3 load branch (device down) with g3 flash sharing of flash and tpm topology diagram_1.jpg" scalefit="yes" id="IMG_spi0_flash_100mhz_and_76_8mhz_3_load_branch_device_down_with_g3_flash_sharing_of_flash_and_tpm_topology_diagram_1_jpg" /></fig><fig id="FIG_spi0_flash_100mhz_and_76_8mhz_4_load_branch_device_down_with_g3_flash_sharing_topology_diagram_1"><title>SPI0 Flash 100MHz and 76.8MHz 4 Load Branch (Device Down) with G3 Flash Sharing Topology Diagram</title><image href="FIG_spi0 flash 100mhz and 76.8mhz 4 load branch (device down) with g3 flash sharing topology diagram_1.png" scalefit="yes" id="IMG_spi0_flash_100mhz_and_76_8mhz_4_load_branch_device_down_with_g3_flash_sharing_topology_diagram_1_png" /></fig><table id="TABLE_0D5A15E5-B893-4104-A860-99BF06CFBF1E_1"><title>SPI0 Flash 76.8MHz and 100MHz 2 to 4-Load Branch (Device Down) with G3 Flash Sharing Topology Notes</title><tgroup cols="2"><thead><row><entry>Note</entry><entry>Detail</entry></row></thead><tbody><row><entry><p>Reference plane</p></entry><entry><p>Continuous ground only.</p></entry></row><row><entry><p>Max frequency</p></entry><entry><p>Flash 1: 100 MHz.</p><p>TPM and Debug Tool:  &lt; 14.3 MHz.</p><p>EC: 50MHz.</p></entry></row><row><entry><p>R1</p></entry><entry><p>10 Ω ± 5%.</p><p>To be placed within 12.7 mm (100 MHz) &amp; 15.24 mm (76.8 MHz) from flash device on SPI0_CLK.</p><p>16 Ω ± 5%.</p><p>To be placed within 12.7 mm (100 MHz) &amp; 15.24 mm (76.8 MHz) from flash device on SPI0_MISO, SPI0_MOSI, SPI0_IO2 and SPI0_IO3.</p></entry></row><row><entry><p>R2</p></entry><entry><p>430 Ω ± 5%. </p><p>To be placed within 2.54 mm from the branch on SPI0_CLK, SPI0_MISO, SPI0_MOSI, SPI0_IO2 and SPI0_IO3.</p></entry></row><row><entry><p>Length from CPU to Flash 1</p></entry><entry><p>Length from CPU to flash 1: </p><p>= BO + M1 + M2 + M3 + M4</p></entry></row><row><entry><p>Minimum length, total</p></entry><entry><p>BO + M1 + M2 + M3 + M4 = 30.48mm</p></entry></row><row><entry><p>Routing scheme</p></entry><entry><p>Interleave 1 CS with every 2 DATA lanes is recommended. </p><p>Recommend to route DATA and CLK on same layer.</p></entry></row><row><entry><p>Flash device electrical characteristics recommendation for 100MHz support</p></entry><entry><p>[1] Driver strength spec: 40 Ω or stronger across worse case corners.</p><p>[2] 0.4 ns ≤ rise/ fall time measured at 30% to 70% ≤ 2 ns based on 30 pF test load. </p><p>[3] Output capacitance, Cout ≤ 16 pF (including RPMC die).</p><p>[4] Input capacitance, Cin ≤ 12 pF (including RPMC die).</p><p>[5] Data input setup time ≤ 1.75 ns.</p><p>[6] Data input hold time ≤ 2 ns.</p><p>[7] CLK to DATA output valid time, min: 1 ns, based on 30 pF test load.</p><p>[8] CLK to DATA output valid time, max: 6 ns (50% to 50%), based on 30 pF test load.</p></entry></row><row><entry><p>Flash device electrical characteristics recommendation for 76.8MHz support</p></entry><entry><p>[1] Driver strength spec: 50 Ω or stronger across worse case corners.</p><p>[2] 0.4 ns ≤ rise/ fall time measured at 30% to 70% ≤ 2 ns based on 30 pF test load. </p><p>[3] Output capacitance, Cout ≤ 16 pF (including RPMC die).</p><p>[4] Input capacitance, Cin ≤ 12 pF (including RPMC die).</p><p>[5] Data input setup time ≤ 1.75 ns.</p><p>[6] Data input hold time ≤ 2 ns.</p><p>[7] CLK to DATA output valid time, min: 1 ns, based on 30 pF test load.</p><p>[8] CLK to DATA output valid time, max: 6 ns (50% to 50%), based on 30 pF test load.</p></entry></row><row><entry><p>FET component criteria</p></entry><entry><p>Ron &lt; 4.5 Ω.</p><p>Cin &lt; 6 pF.</p></entry></row><row><entry><p>Length matching between CLK and DATA/ CS# signals</p></entry><entry><p>12.7 mm</p></entry></row><row><entry><p>Trace spacing between DATA and DATA signals</p></entry><entry><p>0.250 mm</p></entry></row><row><entry><p>Trace spacing between CLK and DATA/ other signals</p></entry><entry><p>0.375 mm</p></entry></row><row><entry><p>Signal name/ list</p></entry><entry><p>SPI0_CLK, SPI0_MOSI, SPI0_MISO, SPI0_IO2, SPI0_IO3, SPI0_CS0# (for flash), SPI0_CS2# (for TPM)</p></entry></row></tbody></tgroup></table><table id="TABLE_0D5A15E5-B893-4104-A860-99BF06CFBF1E_2"><title>Max Number of vias</title><tgroup cols="3"><thead><row><entry>Signal Group</entry><entry>Max Number of Vias Allowed</entry><entry>Via Placement</entry></row></thead><tbody><row><entry><p>Rx, Tx</p></entry><entry><p>3</p></entry><entry><p>Total Channel</p></entry></row></tbody></tgroup></table></section><section id="SECTION_0F6292C8-9AF9-4D72-9C21-358718DD4CBE"><title>Segment Lengths for Maximum 100MHz</title><table id="TABLE_0F6292C8-9AF9-4D72-9C21-358718DD4CBE_1"><title>SPI0 Flash 76.8MHz and 100MHz 2 to 4-Load Branch (Device Down) with G3 Flash Sharing Topology Segment Lengths for Maximum 100MHz Routing Guidelines</title><tgroup cols="4"><thead><row><entry>Segment</entry><entry>Tline Type</entry><entry>Max Length Segment (mm)</entry><entry>Max Length Segment Note</entry></row></thead><tbody><row><entry><p>BO</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>12.7</p></entry><entry><p /></entry></row><row><entry><p>M1</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>30.48</p></entry><entry><p /></entry></row><row><entry><p>M2</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>5.08</p></entry><entry><p /></entry></row><row><entry><p>M3</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>25.4</p></entry><entry><p /></entry></row><row><entry><p>M4</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>12.7</p></entry><entry><p /></entry></row><row><entry><p>M5</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>2.54</p></entry><entry><p /></entry></row><row><entry><p>M6</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>127</p></entry><entry><p /></entry></row><row><entry><p>M7</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>2.54</p></entry><entry><p>This length only applicable for TPM and Debug Tool branch</p></entry></row><row><entry><p>M8</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>76.2</p></entry><entry><p>This length only applicable for TPM and Debug Tool branch</p></entry></row><row><entry><p>M9</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>25.4</p></entry><entry><p>This length only applicable for Debug Tool branch</p></entry></row></tbody></tgroup></table><p>Max Length Total (mm): 86.36</p><p>Max Length Total Note: 1) Max length between CPU to Flash = 86.36 mm;​  2) Total topology length for: 2-load topology = 215.9 mm; 3-load topology = 294.64 mm; 4-load topology = 320.04 mm</p></section><section id="SECTION_2182AC1F-795A-4647-84DE-4EA81642B472"><title>Segment Lengths for Maximum 76.8MHz</title><table id="TABLE_2182AC1F-795A-4647-84DE-4EA81642B472_1"><title>SPI0 Flash 76.8MHz and 100MHz 2 to 4-Load Branch (Device Down) with G3 Flash Sharing Topology Segment Lengths for Maximum 76.8MHz Routing Guidelines</title><tgroup cols="4"><thead><row><entry>Segment</entry><entry>Tline Type</entry><entry>Max Length Segment (mm)</entry><entry>Max Length Segment Note</entry></row></thead><tbody><row><entry><p>BO</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>12.7</p></entry><entry><p /></entry></row><row><entry><p>M1</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>55.88</p></entry><entry><p>M1 can support up to 68.58 mm for 2-Load topology</p></entry></row><row><entry><p>M2</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>5.08</p></entry><entry><p /></entry></row><row><entry><p>M3</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>12.7</p></entry><entry><p /></entry></row><row><entry><p>M4</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>15.24</p></entry><entry><p /></entry></row><row><entry><p>M5</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>2.54</p></entry><entry><p /></entry></row><row><entry><p>M6</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>127</p></entry><entry><p /></entry></row><row><entry><p>M7</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>2.54</p></entry><entry><p>This length only applicable for TPM and Debug Tool branch</p></entry></row><row><entry><p>M8</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>76.2</p></entry><entry><p>This length only applicable for TPM and Debug Tool branch</p></entry></row><row><entry><p>M9</p></entry><entry><p>MS, DSL, SL</p></entry><entry><p>25.4</p></entry><entry><p>This length only applicable for Debug Tool branch</p></entry></row></tbody></tgroup></table><p>Max Length Total (mm): 101.6</p><p>Max Length Total Note: 1) Max length between CPU to Flash: 2 load topology = 114.30 mm; 3 &amp; 4 load topology = 101.60 mm;​  2) Total topology length for: 2-load topology = 243.84 mm; 3-load topology = 309.88 mm; 4-load topology = 335.28 mm</p></section></body></topic>