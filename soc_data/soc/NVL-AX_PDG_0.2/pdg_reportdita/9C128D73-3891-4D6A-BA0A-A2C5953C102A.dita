<?xml version="1.0" encoding="utf-8"?><!DOCTYPE topic  PUBLIC '-//OASIS//DTD DITA Topic//EN'  'topic.dtd'><topic id="GUID_High_Speed_I_O"><title>CPU PCIe Gen 5</title><body><section id="SECTION_9C128D73-3891-4D6A-BA0A-A2C5953C102A"><fig id="FIG_board_layout_recommendation__pcie_gen5_ac_cap_voiding__1"><title>Board Layout Recommendation: PCIe Gen5 AC Cap Voiding </title><image href="FIG_board layout recommendation_ pcie gen5 ac cap voiding _1.png" scalefit="yes" id="IMG_board_layout_recommendation__pcie_gen5_ac_cap_voiding__1_png" /></fig><fig id="FIG_void_above_and_below_buried_vias_pth_pads_in_type-4_stackup_2"><title>Void Above and Below Buried Vias PTH Pads in Type-4 Stackup</title><image href="FIG_void above and below buried vias pth pads in type-4 stackup_2.JPG" scalefit="yes" id="IMG_void_above_and_below_buried_vias_pth_pads_in_type-4_stackup_2_JPG" /></fig><fig id="FIG_voids_under_soc_ball_pads_1"><title>Voids Under SOC Ball Pads</title><image href="FIG_voids under soc ball pads_1.JPG" scalefit="yes" id="IMG_voids_under_soc_ball_pads_1_JPG" /></fig><table id="TABLE_9C128D73-3891-4D6A-BA0A-A2C5953C102A_1"><title>CPU PCIe Gen 5 General Guidelines</title><tgroup cols="2"><thead><row><entry>Note</entry><entry>Detail</entry></row></thead><tbody><row><entry><p>Voiding recommendation</p></entry><entry><p>It is recommended to void unused (non-functional) pads for differential vias and pin pads for ESDs, AC caps and connectors to optimize the impedance matching in the channel.</p></entry></row><row><entry><p>PCIe5 AC capacitor size</p></entry><entry><p>It is required to use 0201 .</p><p>Void reference layer under pad size of differential cap together. </p><p>Extend void by 50 um on all sides of pads. </p><p>Reference example provided per figure.</p><p>Ensure spacing between P and N cap is about ~305 um and spacing between caps of different pair caps is more than 762 um.</p></entry></row><row><entry><p>Unused signals</p></entry><entry><p>Unused data signals should be left as no connect at the ball.</p></entry></row><row><entry><p>Interleaved requirement</p></entry><entry><p>Prefer non-interleaved routing. If Tx to Rx is routed same layer, need S-NES spacing as given in Tlinespec between Tx to Rx.</p><p /></entry></row><row><entry><p>Routing and return via requirement near vertical transition</p></entry><entry><p>For all vertical transitions, the differential transmission line should be connected to the two vias symmetrically.  Moreover, Vss return vias should be placed near the signal vias in an equidistant symmetrical manner, and all signal vias should have identical Vss return vias around each of them.</p></entry></row><row><entry><p>Fiberweave for PCIe5</p></entry><entry><p>Must adhere to fiberweave related best routing practices (#406926).</p></entry></row><row><entry><p>Antipad for Via</p></entry><entry><p>800um diameter for anti-pad Via. Please refer to chapter "General Design Considerations", subheading "Differential Transitional Via Recommendations" for image illustrating anti-pad diameter. Bigger Anti-pad should be provided for T4 buried PTH also, follow pad size+175um radius say buried PTH pad size is 200um, anti-pad radius should be 375um (750um diameter).</p></entry></row><row><entry><p>Void under SOC ball pads</p></entry><entry><p>Second PCB layer should have void equal to pad size for T3 stackup PCB. And for T4 stackup with Via in pad, need to void around pad in top layer equal to 300 um radius size.</p></entry></row><row><entry><p>Void above and below buried via's PTH pads for T4 stackup</p></entry><entry><p>Need to provide void above and below buried via's PTH pads. Voids need to be 75 um more in radius than pad radius. Void is required as shapes over big pads cause a capacitive dip in impedance which results in lower margins. </p><p>The same void should be provided in layers in which via is running through as well i.e., for PTH from L3 to L8, if there is no shape in L2 and L9 already (because of it being signal layer), nothing is required to be done for L2/L9. Void not required in L1/L10.</p><p>Ensure no routing below these voids for other signals in L1 &amp; L10.In case surface layers are power, ensure it is symmetric to both p and n.</p><p>Refer to the image provided as a reference.</p></entry></row><row><entry><p>Reference plane for microstrip route</p></entry><entry><p>Must be continuous ground.</p></entry></row><row><entry><p>Reference plane for stripline route</p></entry><entry><p>Ground on both sides strongly preferred.  If necessary, only a single continuous power reference plane is permitted on one side, but the other side must be a continuous ground.  Simulation is needed to ensure electrical requirements are met.</p></entry></row><row><entry><p>Reference plane for dual stripline route</p></entry><entry><p>Ground on both sides strongly preferred.  If necessary, only a single continuous power reference plane is permitted on one side, but the other side must be a continuous ground and it is the layer that is closer to the signal route.  Simulation is needed to ensure electrical requirements are met.</p></entry></row></tbody></tgroup></table><table id="TABLE_9C128D73-3891-4D6A-BA0A-A2C5953C102A_2" scale="60"><title>CPU PCIe Gen 5 Length Matching</title><tgroup cols="6"><thead><row valign="top"><entry outputclass="rotate90">Matching Group Id</entry><entry outputclass="rotate90">Matching Groups</entry><entry outputclass="rotate90">Total/Within Layer</entry><entry outputclass="rotate90">Length/Delay</entry><entry outputclass="rotate90">Required</entry><entry outputclass="rotate90">Maximum Mismatch</entry></row></thead><tbody><row><entry><p>1</p></entry><entry><p>Pair (P-N)</p></entry><entry><p>Total</p></entry><entry><p>Length (mm)</p></entry><entry><p>Yes</p></entry><entry><p>0.125</p></entry></row><row><entry><p>2</p></entry><entry><p>Pair (P-N)</p></entry><entry><p>Within</p></entry><entry><p>Length (mm)</p></entry><entry><p>Yes</p></entry><entry><p>0.125</p></entry></row><row><entry><p>3</p></entry><entry><p>TX-TX</p></entry><entry><p>Total</p></entry><entry><p>Length (mm)</p></entry><entry><p>Yes</p></entry><entry><p>25</p></entry></row><row><entry><p>4</p></entry><entry><p>RX-RX</p></entry><entry><p>Total</p></entry><entry><p>Length (mm)</p></entry><entry><p>Yes</p></entry><entry><p>25</p></entry></row><row><entry><p>5</p></entry><entry><p>TX-RX</p></entry><entry><p>Total</p></entry><entry><p>Length (mm)</p></entry><entry><p>No</p></entry><entry><p>0</p></entry></row><row><entry><p>6</p></entry><entry><p>DATA-CLK</p></entry><entry><p>Total</p></entry><entry><p>Length (mm)</p></entry><entry><p>No</p></entry><entry><p>0</p></entry></row></tbody></tgroup></table></section></body></topic>